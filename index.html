<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beat App</title>
    <link rel="icon" href="https://tourmaline-hummingbird-bb2d66.netlify.app/icon.png">
    
    <!-- Link to the manifest file -->
    <link rel="manifest" href="https://tourmaline-hummingbird-bb2d66.netlify.app/manifest.json">
      
    <!-- Inline CSS -->
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
        }
        nav {
            margin: 20px 0;
        }
        nav button {
            margin: 0 10px;
            padding: 10px 15px;
            cursor: pointer;
            background-color: #555;
            color: white;
            border: none;
            border-radius: 5px;
        }
        section {
            display: none; /* Hide all sections by default */
            padding: 20px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin: 20px;
        }
        .beat {
            padding: 10px;
            margin: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            display: inline-block;
            background-color: #e2e2e2;
            cursor: pointer;
        }
        footer {
            text-align: center;
            padding: 10px 0;
            background: #333;
            color: white;
            position: relative;
            bottom: 0;
            width: 100%;
        }
        .beat-page {
            display: none; /* Hide beat page by default */
        }
    </style>
</head>
<body>

    <header>
        <h1>Beat App</h1>
        Orientation Portrait
    </header>

    <nav>
        <button onclick="showSection('beats')">Beats</button>
        <button onclick="showSection('productions')">Productions</button>
        <button onclick="showSection('contact')">Contact & License</button>
    </nav>

    <section id="beats">
        <h2>Beats</h2>
        <input type="text" id="filterInput" placeholder="Filter by genre, BPM, or title" onkeyup="filterBeats()">
        <button onclick="filterWithSongs()">Show Beats with Songs</button>
        <div id="beatContainer">
            <div class="beat" data-genre="drill" data-bpm="140" data-title="43 Drill" data-songs="['https://open.spotify.com/track/1', 'https://open.spotify.com/track/2']">43 Drill - 140 BPM</div>
            <div class="beat" data-genre="trap" data-bpm="130" data-title="12 Trap" data-songs="['https://open.spotify.com/track/3']">12 Trap - 130 BPM</div>
            <div class="beat" data-genre="hiphop" data-bpm="90" data-title="22 Hip-Hop" data-songs="[]">22 Hip-Hop - 90 BPM</div>
            <div class="beat" data-genre="lofi" data-bpm="70" data-title="34 Lofi" data-songs="['https://open.spotify.com/track/4']">34 Lofi - 70 BPM</div>
            <div class="beat" data-genre="house" data-bpm="128" data-title="56 House" data-songs="['https://open.spotify.com/track/5']">56 House - 128 BPM</div>
            <div class="beat" data-genre="drill" data-bpm="150" data-title="78 Drill" data-songs="['https://open.spotify.com/track/6']">78 Drill - 150 BPM</div>
        </div>
    </section>

    <section id="productions">
        <h2>Productions</h2>
        <p>Check out our latest productions.</p>
    </section>

    <section id="contact">
        <h2>Contact & License Explanation</h2>
        <p>For inquiries and licensing, please contact us.</p>
    </section>

    <section id="beatPage" class="beat-page">
        <h2 id="beatTitle"></h2>
        <audio id="beatAudio" controls>
            <source src="" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <br>
        <a id="downloadLink" href="#" download>Download Beat</a>
        <h3>Spotify Songs:</h3>
        <ul id="spotifyLinks"></ul>
        <button onclick="showSection('beats')">Back to Beats</button>
    </section>

    <footer>
        <audio controls>
            <source src="your-audio-file.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </footer>

    <!-- Inline JavaScript -->
    <script>

        // Function to show the selected section and hide others
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'none';
            });
            // Show the selected section
            document.getElementById(sectionId).style.display = 'block';
        }

        // Show the beats section by default
        showSection('beats');

        // Function to filter beats based on input
        function filterBeats() {
            const input = document.getElementById('filterInput').value.toLowerCase();
            const beats = document.querySelectorAll('.beat');

            beats.forEach(beat => {
                const genre = beat.getAttribute('data-genre').toLowerCase();
                const bpm = beat.getAttribute('data-bpm').toLowerCase();
                const title = beat.getAttribute('data-title').toLowerCase();
                if (genre.includes(input) || bpm.includes(input) || title.includes(input)) {
                    beat.style.display = 'inline-block'; // Show beat
                } else {
                    beat.style.display = 'none'; // Hide beat
                }
            });
        }

        // Function to filter beats that have associated songs
        function filterWithSongs() {
            const beats = document.querySelectorAll('.beat');

            beats.forEach(beat => {
                const songs = JSON.parse(beat.getAttribute('data-songs'));
                if (songs.length > 0) {
                    beat.style.display = 'inline-block'; // Show beat
                } else {
                    beat.style.display = 'none'; // Hide beat
                }
            });
        }

        // Function to show the beat page
        function showBeatPage(beatElement) {
            const title = beatElement.getAttribute('data-title');
            const songs = JSON.parse(beatElement.getAttribute('data-songs'));
            const audioSrc = `path/to/${title.replace(/\s+/g, '-').toLowerCase()}.mp3`; // Example audio source
            const downloadLink = `path/to/${title.replace(/\s+/g, '-').toLowerCase()}.mp3`; // Example download link

            document.getElementById('beatTitle').innerText = title;
            document.getElementById('beatAudio').src = audioSrc;
            document.getElementById('downloadLink').href = downloadLink;

            const spotifyLinks = document.getElementById('spotifyLinks');
            spotifyLinks.innerHTML = ''; // Clear previous links
            songs.forEach(song => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="${song}" target="_blank">Listen on Spotify</a>`;
                spotifyLinks.appendChild(li);
            });

            showSection('beatPage'); // Show beat page
        }

        // Add click event to each beat to show its page
        document.querySelectorAll('.beat').forEach(beat => {
            beat.addEventListener('click', function() {
                showBeatPage(this);
            });
        });
    </script>

</body>
</html>
